<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<title>LoginForm</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<th:block th:if="${msg}">

	<script type="text/javascript">
		$(window).on('load', function() {
			$('#myModal').modal('show');
		});
	</script>

</th:block>


<style>
.login-form {
	width: 400px;
	margin: 50px auto;
	font-size: 15px;
}

.login-form form {
	margin-bottom: 15px;
	background: #f7f7f7;
	box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);
	padding: 30px;
}

.login-form h2 {
	margin: 0 0 15px;
}

.form-control, .btn {
	min-height: 38px;
	border-radius: 2px;
}

.btn {
	font-size: 15px;
	font-weight: bold;
}
</style>
<th:block th:if="${session.user}">

		<script type="text/javascript" th:inline="javascript">
	
		$(window).on('load', function() {
			location.replace("/")
		});
	</script>
</head>
<body>
	<div class="pt-2 text-center">
		<h2>Hệ thống quản lý nhân lực</h2>
	</div>
	<div class="login-form">
		<form th:action="@{/login}" method="POST" th:object="${member}">
			<h3 class="text-center">Thành viên đăng nhập</h3>
			<div class="form-group">
				<label>Tài khoản</label> <input th:field=*{username} type="text"
					class="form-control" placeholder="Nhập tên đăng nhập"
					required="required">
			</div>
			<div class="form-group">
				<label>Mật khẩu</label> <input type="password" class="form-control"
					placeholder="Nhập mật khẩu" th:field=*{password}
					required="required">
			</div>
			<div class="form-group">
				<button type="submit" class="btn btn-primary btn-block">Log
					in</button>
			</div>
			<div class="clearfix">

				<a href="#" class="float-right">Forgot Password?</a>
			</div>
		</form>


		<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
			aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Lỗi</h5>
						<button type="button" class="close" data-dismiss="modal"
							aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<th:block th:if="${msg} == 'user' ">
							<p>Chưa có tài khoản này, kiểm tra lại hoặc liên hệ với quản trị viên</p>
						</th:block>

						<th:block th:if="${msg} == 'password' ">
							<p>Sai mật khẩu</p>
						</th:block>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"
							data-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary">Save
							changes</button>
					</div>
				</div>
			</div>
		</div>
</body>
</html>